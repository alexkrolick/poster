// Forms.css.scss
// Base styles for various input types, form layouts, and states
// -------------------------------------------------------------

// GENERAL STYLES
// --------------

// Make all forms have space below them
form {
	margin: 0 0 $baseLineHeight;
}

fieldset {
	padding: 0;
	margin: 0;
	border: 0;
}

// Groups of fields with labels on top (legends)
legend {
	display: block;
	width: 100%;
	padding: 0;
	margin-bottom: $baseLineHeight * 1.5;
	font-size: $baseFontSize * 1.5;
	line-height: $baseLineHeight * 2;
	color: $grayDark;
	border: 0;
	border-bottom: 1px solid #eee;
}

// Identify controls by their labels
label {
	display: block;
	margin-bottom: 5px;
	color: $grayDark;
}

// Inputs, Textareas, Selects
input, textarea, select, .uneditable-input {
	display: inline-block;
	width: 210px;
	height: $baseLineHeight;
	padding: 4px;
	margin-bottom: 9px;
	font-size: $baseFontSize;
	line-height: $baseLineHeight;
	color: $gray;
	border: 1px solid #DBDCDC;
	@include border-radius(4px);
}
.uneditable-textarea {
	width: auto;
	height: auto;
}

// Inputs within a label
label input, label textarea, label select {
	display: block;
}

// Mini reset for unique input types
input[type="image"], input[type="checkbox"], input[type="radio"] {
	width: auto;
	height: auto;
	padding: 0;
	margin: 3px 0;
	*margin-top: 0; /* IE7 */
	line-height: normal;
	border: 0;
	cursor: pointer;
	@include border-radius(0);
}

// Reset the file input to browser defaults
input[type="file"] {
	padding: initial;
	line-height: initial;
	border: initial;
	background-color: $white;
	background-color: initial;
	@include box-shadow(none);
}

// Help out input buttons
input[type="button"], input[type="reset"], input[type="submit"] {
	width: auto;
	height: auto;
}

// Set the height of select and file controls to match text inputs
select, input[type="file"] {
	height: 28px; /* In IE7, the height of the select element cannot be changed by height, only font-size */
	*margin-top: 4px; /* For IE7, add top margin to align select with labels */
	// line-height: 28px;
}

// Chrome on Linux and Mobile Safari need background-color
select {
	width: 220px; // default input width + 10px of padding that doesn't get applied
	background-color: $white;
}

// Make multiple select elements height not fixed
select[multiple], select[size] {
	height: auto;
}

// Remove shadow from image inputs
input[type="image"] {
	@include box-shadow(none);
}

// Make textarea height behave
textarea {
	width: 500px;
	height: 50px;
	resize: vertical;
}

// Hidden inputs
input[type="hidden"] {
	display: none;
}



// CHECKBOXES & RADIOS
// -------------------

// Indent the labels to position radios/checkboxes as hanging
.radio, .checkbox {
	padding-left: 18px;
}
.radio input[type="radio"], .checkbox input[type="checkbox"] {
	float: left;
	margin-left: -18px;
}

// Move the options list down to align with labels
.controls > .radio:first-child, .controls > .checkbox:first-child {
	padding-top: 5px; // has to be padding because margin collaspes
}

// Radios and checkboxes on same line
.radio.inline, .checkbox.inline {
	display: inline-block;
	margin-bottom: 0;
	vertical-align: middle;
}
.radio.inline + .radio.inline, .checkbox.inline + .checkbox.inline {
	margin-left: 10px; // space out consecutive inline controls
}
// But don't forget to remove their padding on first-child
.controls > .radio.inline:first-child, .controls > .checkbox.inline:first-child {
	padding-top: 0;
}



// FOCUS STATE
// -----------

input:not([type=radio]), textarea {
	@include box-shadow(none);
	$transition: border linear .2s, box-shadow linear .2s;
	@include transition($transition);
}
input:focus:not([type=radio]), textarea:focus {
	border-color: rgba(85,178,127,.8);
	$shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(85,178,127,.6);
	@include box-shadow(none);
	outline: 0;
	outline: thin dotted \9; /* IE6-8 */
}
input[type="file"]:focus, input[type="checkbox"]:focus, select:focus {
	@include box-shadow(none); // override for file inputs
	@include tab-focus();
}



// INPUT SIZES
// -----------

// General classes for quick sizes
.input-mini       { width: 60px; }
.input-small      { width: 90px; }
.input-medium     { width: 150px; }
.input-large      { width: 210px; }
.input-xlarge     { width: 270px; }
.input-xxlarge    { width: 530px; }

// Grid style input sizes
input[class*="span"], select[class*="span"], textarea[class*="span"], .uneditable-input {
	float: none;
	margin-left: 0;
}



// DISABLED STATE
// --------------

// Disabled and read-only inputs
input[disabled], select[disabled], textarea[disabled], input[readonly], select[readonly], textarea[readonly] {
	background-color: #f5f5f5;
	border-color: #ddd;
	cursor: not-allowed;
}




// FORM FIELD FEEDBACK STATES
// --------------------------

// Mixin for form field states
@mixin formFieldState($textColor: #555, $borderColor: #ccc, $backgroundColor: #f5f5f5) {
// Set the text color
> label, .help-block, .help-inline {
		color: $textColor;
	}
// Style inputs accordingly
input, select, textarea {
	color: $textColor;
	border-color: $borderColor;
	&:focus {
		border-color: darken($borderColor, 10%);
		@include box-shadow(none);
	}
}
// Give a small background color for input-prepend/-append
.input-prepend .add-on, .input-append .add-on {
	color: $textColor;
	background-color: $backgroundColor;
	border-color: $textColor;
}
}
// Warning
.control-group.warning {
	@include formFieldState($warningText, $warningText, $warningBackground);
}
// Error
.control-group.error, .field_with_errors {
	@include formFieldState($errorText, $errorText, $errorBackground);
}
// Success
.control-group.success {
	@include formFieldState($successText, $successText, $successBackground);
}

// HTML5 invalid states
// Shares styles with the .control-group.error above
input:focus:required:invalid, textarea:focus:required:invalid, select:focus:required:invalid {
	color: #175C68;
	border-color: #5299a5;
	&:focus {
		border-color: darken(#5299a5, 10%);
		box-shadow:none !important;
	}
}

input:focus:invalid:focus, textarea:focus:invalid:focus, select:focus:invalid:focus {
	color: #444;
	&:focus {
		border-color: lighten($brandGreen, 20);
		box-shadow:none !important;
	}
}
// Allow us to put symbols and text within the input field for a cleaner look
.input-prepend, .input-append {
	@extend %clearfix; // Clear the float to prevent wrapping
	margin-bottom: 5px;
	input, .uneditable-input {
		@include border-radius(0 3px 3px 0);
		&:focus {
			position: relative;
			z-index: 2;
		}
	}
	.uneditable-input {
		border-left-color: #ccc;
	}
	.add-on {
		float: left;
		display: block;
		width: auto;
		min-width: 16px;
		height: $baseLineHeight;
		margin-right: -1px;
		padding: 4px 5px;
		font-weight: normal;
		line-height: $baseLineHeight;
		color: $grayLight;
		text-align: center;
		text-shadow: 0 1px 0 $white;
		background-color: #f5f5f5;
		border: 1px solid #ccc;
		@include border-radius(3px 0 0 3px);
	}
	.active {
		background-color: lighten($green, 30);
		border-color: $brandGreen;
	}
}
.input-prepend {
	.add-on:first-child {
		@include border-radius(3px 0 0 3px);
	}
}
.input-append {
	input, .uneditable-input {
		float: left;
		@include border-radius(3px 0 0 3px);
	}
	.uneditable-input {
		border-right-color: #ccc;
	}
	.add-on {
		margin-right: 0;
		margin-left: -1px;
		@include border-radius(0 3px 3px 0);
	}
	input:first-child {
	// In IE7, having a hasLayout container (from clearfix's zoom:1) can make the first input
	// inherit the sum of its ancestors' margins.
	*margin-left: -160px;
	}
}


// FORM ACTIONS
// ------------

.form-actions {
	padding: ($baseLineHeight - 1) 20px $baseLineHeight;
	margin-top: $baseLineHeight;
	margin-bottom: $baseLineHeight;
	background-color: #f5f5f5;
	border-top: 1px solid #ddd;
}

// For text that needs to appear as an input but should not be an input
.uneditable-input {
	display: block;
	background-color: $white;
	border-color: #eee;
	box-shadow:none;
	cursor: not-allowed;
}

// Placeholder text gets special styles; can't be bundled together though for some reason
@include placeholder($grayLight);



// HELP TEXT
// ---------

.help-block {
	margin-top: 5px;
	margin-bottom: 0;
	color: $grayLight;
}

.help-inline {
	display: inline-block;
	@include ie7-inline-block();
	margin-bottom: 9px;
	vertical-align: middle;
	padding-left: 5px;
}


// SEARCH FORM
// -----------

.search-query {
	padding-left: 14px;
	padding-right: 14px;
	margin-bottom: 0; // remove the default margin on all inputs
	@include border-radius(14px);
}



// HORIZONTAL & VERTICAL FORMS
// ---------------------------

// Common properties
// -----------------

.form-search, .form-inline, .form-horizontal {
	input, textarea, select, .help-inline, .uneditable-input {
		display: inline-block;
		@include ie7-inline-block();
		margin-bottom: 0;
	}
}
.form-search label, .form-inline label, .form-search .input-append, .form-inline .input-append, .form-search .input-prepend, .form-inline .input-prepend {
	display: inline-block;
}
// Make the prepend and append add-on vertical-align: middle;
.form-search .input-append .add-on, .form-inline .input-prepend .add-on, .form-search .input-append .add-on, .form-inline .input-prepend .add-on {
	vertical-align: middle;
}

// Horizontal-specific styles
// --------------------------

.form-horizontal {
// Legend collapses margin, so we're relegated to padding
legend + .control-group {
	margin-top: $baseLineHeight;
	-webkit-margin-top-collapse: separate;
}
// Increase spacing between groups
.control-group {
	@extend %clearfix;
	margin-bottom: $baseLineHeight/2;

	// Float the labels left
	> label {
		float: left;
		width: 100px;
		padding-top: 5px;
		text-align: right;
	}
}

// Move over all input controls and content
.controls {
	margin-left: 120px;
}
// Move over buttons in .form-actions to align with .controls
.form-actions {
	margin-left: 120px;
	margin-top: 5px;;
}
.multiline-label {
	margin-bottom: 0;
}
.password-forgot {
	margin-left: 120px;
	vertical-align: sub;
}
p.submit-text {
	line-height: $baseLineHeight;
	padding-left: 120px;
}
.login-subtext {
	color: #ccc;
	font-size: 1000;
}
}

$formComponentPadding: 5px;

// override normalize.css

button,
input,
optgroup,
select,
textarea {
  font-family: $baseFontFamily; /* 1 */
}

.form,
.field {
  input,
  textarea,
  select {
    @include box-sizing();

    display: block;
    padding: 6px 8px;
    height: 35px;
    margin: 3px 0px;

    border: 1px solid $grayLighter;
    border-style: solid;
    border-radius: 4px;
    background-color: $white;
  }
  label {
    display: inline-block;
    &.right-padded {
      padding-right: 5px;
    }
    &.block{
      display: block;
    }
  }
  textarea {
    min-width: 300px;
    min-height: 80px;
    overflow-y: hidden;
  }
  button {
    margin: 3px 0px;
  }

  &.inline {
    input,
    textarea,
    .btn {
      display: inline;
      vertical-align: bottom;
    }
    button {
      vertical-align: top;
    }
    input {
      position: relative;
      height: 35px;
    }
    :not(:first-child) {
      margin-left: $formComponentPadding;
    }
  }

  &.large {
    input,
    textarea,
    select,
    label {
      font-size: 18px;
      height: 48px;
      margin-bottom: 5px;
    }
  }

  .form-xlg {
    input,
    textarea,
    select {
      display: block;
      height: 45px;
      padding-left: 10px;
      padding-right: 10px;
      -webkit-font-smoothing: antialiased;
    }
  }

  &.full-width {
  // Inputs and buttons take 100% of the width of the parent
    input,
    .newbtn {
      width: 100%;
      height: 100%;

      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
    }
    input {
      padding: 6px 8px;
    }
  }
}


input:active:not([type=radio]), textarea:active, select:active {
  outline: none;
}

input:focus:not([type=radio]), textarea:focus, select:focus {
  border-color: $brandFocus;
  border-style: solid;
  outline: 0;
  outline: thin dotted \9; /* IE6-8 */
}

input[type="submit"] {
  height: inherit;
  border: none;
  &:focus {
    border: none;
  }
}

// FROM BASE
// Errors
.field_with_errors {
  position: relative;
  padding: 0;
  background-color: inherit;
  input {
    color: $error;
    border-color: $error;
  }
  textarea {
    color: $error;
    border-color: $error;
  }
  .error {
    color: $error;
    margin-top: -20px;
    margin-bottom: 20px;
  }
}
.field_with_errors .tooltip {
  font-size: 14px;
  &.right .tooltip-arrow {
    border-right-color: $error;
  }
  &.bottom .tooltip-arrow {
    border-bottom-color: $error;
  }
  .tooltip-inner {
    padding: 4px 10px;
    max-width: none;
    background-color: $error;
  }
}

.input-prepend .add-on, .input-append .add-on {
  color: $mainTextColor;
  background-color: $backgroundColor;
  border-color: $mainTextColor;
}
// Allow us to put symbols and text within the input field for a cleaner look
.input-prepend, .input-append {
  // @extend %clearfix; // Clear the float to prevent wrapping
  margin-bottom: 5px;
  input, .uneditable-input {
    @include border-radius(0 3px 3px 0);
    &:focus {
      position: relative;
      z-index: 2;
    }
  }
  .uneditable-input {
    border-left-color: #ccc;
  }
  .add-on {
    float: left;
    display: block;
    width: auto;
    min-width: 16px;
    height: $baseLineHeight + 5;
    padding: 4px 5px;
    margin: 3px -1px;
    font-weight: normal;
    line-height: $baseLineHeight;
    color: $grayLight;
    text-align: center;
    text-shadow: 0 1px 0 $white;
    background-color: #f5f5f5;
    border: 1px solid $grayLighter;
    @include border-radius(3px 0 0 3px);
  }
  .fa {
    vertical-align: bottom;
  }
  .active {
    background-color: lighten($green, 30);
    border-color: $brandGreen;
  }
}
.input-prepend {
  .add-on:first-child {
    @include border-radius(3px 0 0 3px);
  }
}
.input-append {
  input, .uneditable-input {
    float: left;
    @include border-radius(3px 0 0 3px);
  }
  .uneditable-input {
    border-right-color: #ccc;
  }
  .add-on {
    margin-right: 0;
    margin-left: -1px;
    @include border-radius(0 3px 3px 0);
  }
  input:first-child {
  // In IE7, having a hasLayout container (from clearfix's zoom:1) can make the first input
  // inherit the sum of its ancestors' margins.
  *margin-left: -160px;
  }
}


